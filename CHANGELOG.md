## Unreleased

- **Human reaction time simulation** for realistic enemy engagement:
  - **Reaction delay field** in `reaper_mre/botit_th.qc`: Added `.float reaction_finished` entity field to track when bot can start aiming/firing after acquiring new enemy target. Enables natural input lag simulation instead of instant-snap "aimbot" behavior.
  - **Delay calculation** in `reaper_mre/bot_ai.qc`: When BotFoundTarget acquires enemy, sets `reaction_finished = time + (0.1 + random()*0.2*(4-skill))`. Easy bots (skill 0) get ~0.4s delay, Nightmare bots (skill 3) get ~0.1s delay. Scales linearly with skill for progressive difficulty—low-skill bots feel sluggish, high-skill bots feel sharp but not inhuman.
  - **Aim blocking** in `reaper_mre/botthink.qc`: checkyaw() early-returns if `time < reaction_finished`, preventing pitch tracking during delay. Bots stare blankly at new enemy instead of instantly tracking—looks like human "oh shit" moment.
  - **Fire blocking** in `reaper_mre/botfight.qc`: W_BotAttack() early-returns if `time < reaction_finished`, preventing weapon fire during delay. Bots hold fire until delay expires—no instant first-shot advantage.
  - **Result:** Bots no longer snap-aim-fire instantly when rounding corners. You get brief window to react (0.1-0.4s depending on skill) before bot starts tracking/firing—feels like fighting humans who need to process "enemy spotted" instead of aimbots.

- **Enhanced sound ambush behavior** for tactical positioning:
  - **Ambush logic** in `reaper_mre/botthink.qc`: When idle bot hears combat (sound_maker.attack_finished > time) within 1000u, checks if healthy (>80 HP) and well-armed (RL/SNG/LG). If conditions met, stops movement (velocity = 0), faces sound source (ideal_yaw), waits 1.5s at position instead of running toward noise.
  - **Tactical waiting** in `reaper_mre/botthink.qc`: Uses search_time timer to hold position, allowing sound source to approach. If not well-armed or hurt, falls back to original "investigate by moving" behavior—only confident bots ambush.
  - **Result:** Strong bots now set ambushes instead of blindly charging at noise. Hear rockets firing around corner → bot stops → faces doorway → waits for you to round corner into crosshairs. Creates "camper" behavior that feels genuinely threatening instead of predictable chase-AI.

- **Dynamic stuck wiggle (micro-jumps)** for immediate unstuck response:
  - **Velocity stall detection** in `reaper_mre/botmove.qc`: Botmovetogoal checks if velocity <10 u/s while grounded BEFORE the 1-second stuck timer. Detects when bot is trying to move but physics has stalled (stuck on lip, in corner, etc).
  - **Immediate micro-jump** in `reaper_mre/botmove.qc`: On velocity stall, 20% chance per frame to execute 220 u/s hop with jump sound. Prevents bots from standing motionless for full second before reacting—tries to "wiggle free" immediately.
  - **Result:** Bots no longer freeze for 1 second when hitting small obstacles. They immediately try micro-jumps to clear geometry lips/steps/corners—looks like human player spam-jumping to unstuck instead of patiently waiting for timeout.

- **Finisher logic** for intelligent ammo conservation:
  - **Near-death detection** in `reaper_mre/botfight.qc`: W_BestBotWeapon checks if enemy health <20 and range <RANGE_NEAR BEFORE main weapon selection. Identifies "execution" scenarios where rocket would be overkill.
  - **Shotgun finisher priority** in `reaper_mre/botfight.qc`: Returns IT_SHOTGUN if available for reliable hitscan finish on weak enemies. Saves expensive rockets for healthy targets—prevents wasting 25 damage ammo on 5 HP enemy.
  - **Fallthrough to axe** in `reaper_mre/botfight.qc`: If no shotgun, allows existing melee logic (<40 HP at RANGE_MELEE) to finish with axe. Smart ammo economy across weapon tiers.
  - **Result:** Bots stop firing rockets at nearly-dead enemies. Switch to shotgun/axe for finishers when enemy is critically weak—looks like human ammo management instead of wasteful spam.

- **Floor shooting tweak** for guaranteed splash detonation:
  - **Improved floor aim** in `reaper_mre/botfight.qc`: Changed rocket floor-shooting aim from `absmin_z + 8` (slightly above feet) to `absmin_z - 4` (slightly INTO floor beneath enemy). Ensures rocket hits solid ground instead of air gap above feet.
  - **Guaranteed ground detonation:** Aiming below absmin forces rocket to impact floor tile, triggering splash explosion at enemy's feet instead of potentially missing ground and hitting body (which does less splash damage). Maximizes splash radius effectiveness.
  - **Result:** Floor shots now reliably detonate at feet level instead of occasionally hitting legs/body. More consistent splash damage (80+ guaranteed) when enemy is grounded—bots exploit splash mechanics like pro players.

- **Stair smoothing system** for fluid vertical navigation:
  - **Step detection** in `reaper_mre/botmove.qc`: When primary walkmove fails in strafemove, traces at knee height (22u above ground) to detect low obstacles like stairs or debris. If path is clear at knee level but blocked at foot level, identifies obstacle as a step rather than a wall.
  - **Micro-hop execution** in `reaper_mre/botmove.qc`: Applies 210 u/s vertical velocity (smaller than standard 270 jump) to lift bot just enough to clear step friction. Prevents stuck loops on jagged stairs, crate piles, and uneven terrain—bots now glide smoothly up stairs like human players.
  - **Result:** No more stair stuttering! Bots handle DM6 crate stairs, E1M1 entrance steps, and debris-filled corridors with fluid movement instead of repetitive stuck detection.

- **Fat trace system** for realistic collision awareness:
  - **Shoulder width checking** in `reaper_mre/botgoal.qc`: When itemweight validates visible items, performs dual shoulder traces (±14u from center, matching 16u bot radius) in addition to center ray. Detects when center vision line fits through bars/grates but bot body cannot.
  - **Bar detection logic** in `reaper_mre/botgoal.qc`: If either shoulder trace hits obstruction before reaching item (trace_fraction < 1.0 and trace_ent != item), marks item as DONT_WANT only if blockage is close (<64u). Distant blockages allow pathfinding around obstacle—prevents false rejections.
  - **Result:** No more "cookie jar syndrome"! Bots stop staring at Red Armor through grates, Quad Damage behind bars, or health packs in locked cages. They recognize physical impossibility and move on to reachable goals.

- **Action breadcrumbs system** for teaching complex movement sequences:
  - **Action flag field** in `reaper_mre/botit_th.qc`: New `.float action_flag` entity field stores required actions at waypoint nodes (0=walk, 1=jump, 2=wait). Enables "action tagging" where player behaviors become executable bot instructions—transforms navigation network from passive paths into active choreography.
  - **Jump detection** in `reaper_mre/client.qc`: PlayerPostThink detects when player presses jump (button2) while grounded and immediately drops breadcrumb node tagged with action_flag=1. Uses forced drop (bypasses 0.1s throttle) to capture exact takeoff position with 0.5s cooldown to prevent spam—records precise jump points for parkour sequences like crate hopping or gap crossing.
  - **Jump execution** in `reaper_mre/botmove.qc`: Botmovetogoal checks if goal node has action_flag==1 and triggers 270 u/s vertical jump when within 64u of node. Ensures bot jumps at player-taught takeoff points—replicates human jump timing for platform entry, ledge hopping, and gap crossing without manual jump scripting.
  - **Result:** You can now "program" bot parkour simply by playing the game. Jump onto DM2 train → bot sees jump node → bot jumps at same spot. Hop up crate stairs to DM6 Red Armor → bots learn the exact sequence. Every gap you jump, bots will jump. Turns player into movement choreographer teaching advanced techniques through demonstration instead of code.

- **Player learning system (Shadow)** for human-guided AI training:
  - **Player path carrier initialization** in `reaper_mre/client.qc`: Players now get BotPath movetarget on spawn (like bots) with CARRIED pathtype. Ensures player can drop breadcrumb nodes as they play—transforms human into "Master Teacher" for bot navigation learning.
  - **Player breadcrumb dropping** in `reaper_mre/client.qc`: PlayerPostThink throttles CheckDropPath/DropBotPath calls (0.1s intervals) with health >0 and FL_ONGROUND checks. Players automatically drop waypoints as they move—bots instantly adopt player routes, learning jumps/secrets/shortcuts by observation.
  - **Shared node network** in `reaper_mre/botroute.qc`: Modified t_botpath touch function to accept both "dmbot" and "player" classnames. Player-created nodes integrate seamlessly into bot navigation—no separate path network, immediate knowledge transfer.
  - **Result:** Human player becomes living tutorial. Run complex route once → nearby bots see new nodes → bots immediately follow same path. Teaches advanced movement (secret jumps, trick shots, optimal routes) through gameplay instead of manual waypoint editing.

- **Traffic heatmap system (Street Smarts)** for emergent tactical flow awareness:
  - **Traffic counter** in `reaper_mre/botroute.qc`: t_botpath increments `.float traffic_score` on every bot/player touch (capped at 100 to prevent overflow). Each node tracks usage frequency—creates organic "Main Street" (high traffic = combat zones) vs "Back Alley" (low traffic = flanking routes) distinction.
  - **Hunting behavior** in `reaper_mre/botgoal.qc`: When bot is healthy (>80 HP) with no enemy, traffic_score adds +20× bonus to pathweight (max +2000). Bots actively seek high-traffic nodes to find fights—gravitate toward atrium/choke points where action happens.
  - **Fleeing behavior** in `reaper_mre/botgoal.qc`: When bot is hurt (<40 HP), traffic_score subtracts -50× penalty from pathweight (max -5000). Bots actively avoid high-traffic nodes when vulnerable—choose quiet ventilation shafts/side corridors to reach health packs safely.
  - **Organic flow evolution:** Early game: 0 traffic everywhere, random wandering. Mid game: Main atrium gets 50+ traffic, aggressive bots flock there. Late game: Wounded bot calculates route, sees main path is "Hot Zone", automatically routes through back passages—looks incredibly human-like without explicit "danger zone" programming.
  - Added `.float traffic_score` field in `reaper_mre/botit_th.qc` for traffic tracking.

- **Enhanced rocket jump system** for safe, controlled, and skill-based navigation:
  - **Directional rocket jump mechanics** in `reaper_mre/botmove.qc`: Sophisticated `bot_rocket_jump` function with health checks (<40 HP prevents suicide), 2s cooldown (prevents spam), and dynamic geometry-based aim calculation. Analyzes target distance/height: steep pitch (85°) for high vertical ledges, shallow pitch (45°) for long horizontal gaps. Yaw aims opposite to target direction, ensuring explosion propels bot precisely toward goal—replaces static "look down and shoot" with intelligent directional RJ like human speedrunners. Aggressive forward leap (-320 u/s, tripled from original) enables gap crossing to reach items like DM2 Quad Damage.
  - **Smart RJ trigger for high ledges** in `reaper_mre/botmove.qc`: Proactive rocket jump in `Bot_tryjump` when target height exceeds 1.5× MAXJUMP and bot has skill >2. Enables skilled bots to reach otherwise unreachable platforms/items via RJ instead of fail-and-give-up loops—"pro movement" for vertical navigation.
  - **Enhanced RJ reachability** in `reaper_mre/botgoal.qc`: Modified height filter in `itemweight` and `thingweight` to recognize items up to 450 units high as reachable when bot has RL, 1+ rockets, and ≥40 HP. Applies 1.2× weight multiplier to high items (usually valuable). Prevents bots from ignoring critical items like Quad Damage on elevated platforms—now actively seeks and rocket jumps to them instead of marking unreachable.
  - **Upgraded desperate unstuck** in `reaper_mre/botmove.qc`: Replaced crude rocket fire with full `bot_rocket_jump()` call in stuck escape sequence. Train surf → enhanced RJ → super jump priority ensures safe, cooldown-managed escape with proper directional arcs.
  - Added `.float rj_cooldown` field in `reaper_mre/botit_th.qc` for spam prevention and timing control.

- **Danger & Glory semantic mapping** for emergent tactical behavior:
  - **Danger scent marking** in `reaper_mre/combat.qc`: When bot dies, finds nearest BotPath node within 200u and increments `.float danger_scent` by 10. Creates "death zones" that bots naturally avoid—simulates learned survival instinct from repeated deaths in choke points.
  - **Glory score marking** in `reaper_mre/combat.qc`: When bot gets kill, finds nearest node within 150u and increments `.float glory_score` by 10. Creates "power positions" that roaming bots seek out—simulates recognition of sniper spots and control points.
  - **Scent fading** in `reaper_mre/botgoal.qc`: Scents decay by 50% every 60 seconds to simulate "coast is clear" or meta shift. Prevents permanent node stigma—allows tactical evolution as match progresses.
  - **Fear response** in `reaper_mre/botgoal.qc`: Danger scent subtracts 100× penalty from path weight (3 deaths = -3000 cost). Bots actively avoid high-danger nodes, creating organic flanking behavior when choke points become too deadly.
  - **Glory seeking** in `reaper_mre/botgoal.qc`: Glory score adds 50× bonus to path weight when bot is roaming + healthy (>80 HP, no enemy). Bots gravitate to successful ambush spots, fighting for control of power positions like human players.
  - Added `.float danger_scent`, `.float glory_score`, `.float scent_time` fields in `reaper_mre/botit_th.qc` for semantic learning.

- **Platform mastery system** for intelligent elevator and lift usage:
  - **Enable learning on elevators** in `reaper_mre/botroute.qc`: Removed restriction that prevented breadcrumb drops on moving platforms (func_plat/func_train). Bots now learn paths while riding elevators—solves "active avoidance" where bots ignored lifts entirely.
  - **Platform node tagging** in `reaper_mre/botroute.qc`: Detects when node is dropped on moving platform via downward traceline (64u), tags with `.float is_platform_node` field. Enables elevator-aware pathfinding—bots "remember" which nodes ride lifts.
  - **Platform awareness** in `reaper_mre/botgoal.qc`: Modified `pathweight` to ignore height restrictions when `is_platform_node` flag is set. Bots recognize high platform nodes as reachable even when lift is elevated—no more "too high" rejections for DM2 lift destination.
  - **Elevator patience** in `reaper_mre/botmove.qc`: Added wait logic in `Botmovetogoal` when approaching elevated platform nodes (>64u high, <200u horizontal distance). Bots stop at lift shaft, look up (-45° pitch), reset stuck timers, and wait for lift to descend—human-like behavior instead of wandering off impatiently.
  - Added `.float is_platform_node` field in `reaper_mre/botit_th.qc` for platform node tracking.

- **Navigation persistence system** for saving/loading learned pathfinding knowledge:
  - **Smart spacing optimization** in `reaper_mre/botroute.qc`: Enhanced `CheckDropPath` with distance (250u threshold) and line-of-sight checks to prevent node clumping. Only drops breadcrumb nodes when bot has moved far from or lost sight of last node—creates clean, efficient navigation network instead of messy "spaghetti" graph. Remembers last dropped node via `.entity last_dropped_node` field in `reaper_mre/botit_th.qc`.
  - **Brain dump exporter** in `reaper_mre/botroute.qc`: New `DumpWaypoints` function exports all learned BotPath nodes to console as QuakeC code (impulse 100 command). Prints ready-to-paste `SpawnSavedWaypoint('x y z')` calls for manual persistence—solves QuakeC's no-file-IO limitation via copy-paste workflow.
  - **Waypoint loader** in `reaper_mre/botroute.qc`: New `SpawnSavedWaypoint` function recreates saved nodes with DROPPED pathtype classification. Enables "baking" learned knowledge into mod by pasting exported code into map init—bots instantly remember map layout instead of relearning every session.
  - **Console command hookup** in `reaper_mre/weapons.qc`: Wired impulse 100 to `DumpWaypoints` via `ImpulseCommands` function with user-friendly broadcast messages. Added forward declaration in `reaper_mre/botit_th.qc` for cross-file visibility.

- **Train navigation enhancements** for path_corner chain prediction and timing:
  - **Path_corner chain traversal** in `reaper_mre/botmove.qc`: New `predict_train_pos` helper function traverses train path_corner chains using two-pass algorithm (total distance calculation + interpolation) to predict where trains will be at future time. Handles looping paths via modulo arithmetic, detects cycles with first_corner tracking, and limits to 16 segments for safety—enables precise multi-segment train pathing instead of blind velocity guessing.
  - **Train path prediction in movement** in `reaper_mre/botmove.qc`: Expanded platform prediction in `Botmovetogoal` to call `predict_train_pos` for func_train entities, following actual route through waypoint network instead of simple velocity multiplication. Bots now time train intercepts along complex paths—"human timing" for vertical/horizontal train navigation.
  - **Train path prediction in jumps** in `reaper_mre/botmove.qc`: Enhanced jump arc train prediction in `Bot_tryjump` to use `predict_train_pos` at LEVELJUMPTIME (≈0.6s) instead of velocity guessing. Ensures bots jump to where train will be, not where it is—precise mid-air train sync for moving platform landings.
  - **Train reachability checks** in `reaper_mre/botvis.qc`: Added train-specific logic to `Reachable` function that predicts train position at bot arrival time (distance / BOTSPEED) using path_corner chain. Prevents false "unreachable" rejections when timing is correct—bots won't chase static positions, will aim for future intercept points.
  - **Train surf unstuck escape** in `reaper_mre/botmove.qc`: Added train detection to desperate unstuck tactics (after 5+ stuck attempts). Downward traceline (32u) detects train beneath bot, boosts velocity with train momentum (1.5x multiplier) for "human exploit" surf escape—cheaper than rocket jump, prioritized before ammo-based escapes.

- **Advanced navigation suite** for human-like platform/environmental interaction:
  - **Platform movement prediction** in `reaper_mre/botmove.qc`: Predicts where moving platforms (func_plat, func_train) will be when bot arrives based on velocity + state (pos1/bottom, pos2/top), enabling timed jumps to meet rising/falling platforms instead of static position chasing—creates "human timing" for vertical navigation.
  - **Jump arc platform collision** in `reaper_mre/botmove.qc`: Detects platforms during jump simulation (Bot_tryjump) as valid landing surfaces with downward re-trace confirmation, enabling precise mid-air platform landings without ground-only bias—bots now jump onto moving platforms fluidly.
  - **Button shoot + wait logic** in `reaper_mre/botgoal.qc` and `reaper_mre/botmove.qc`: Auto-shoots visible buttons/shootables (visibility check prevents wall waste), waits 2s for door activation, monitors door state (pointcontents) to clear wait timer early when opened—enables fluid secret navigation with "human button-use" behavior.
  - **Ride platform auto-follow** in `reaper_mre/botthink.qc`: Downward traceline (32u) detects when standing on moving platform, inherits platform velocity for smooth ride, adjusts goalentity.origin to follow platform motion—prevents premature dismount and enables seamless vertical travel.
  - **Desperate unstuck tactics** in `reaper_mre/botmove.qc`: After 5+ stuck attempts in trysidestep, escalates to rocket jump (backward blast-out if ammo available) or super jump (350u high leap)—"human exploit" escape from geometry traps, prevents infinite spin-death.
  - Added `.float button_wait_time` field in `reaper_mre/botit_th.qc` for button/door wait timer tracking.
- **Grenade launcher mastery** in `reaper_mre/botfight.qc` for advanced indirect fire:
  - **Bounce-trace aim** (`predict_gl_bounce`): 1-bounce physics simulation with velocity reflection (0.8 elasticity) predicts wall-bank shots and corner splash kills. Enables indirect fire around cover.
  - **Gravity arc simulation** (`adjustgrenade`): Full parabolic trajectory with travel-time gravity drop replaces flat percentage guessing. Lobs grenades with (g×t×0.6) vertical velocity for optimal range arcs—hits distant feet precisely.
  - **Self-risk validation** (W_BotAttack GL block): Pre-fire trace to predicted explosion aborts if self-splash risk <128u. Prevents frag-suicide in tight corners/doorways—bot holds fire until safe angle.
- **Human-like aim smoothing** in `reaper_mre/botthink.qc` for realistic combat tracking:
  - **Pitch slew rate system** (`checkyaw` function): Replaces instant-snap "aimbot" behavior with gradual pitch rotation limited by skill-based turn speed. Skill 0: 150°/s (lazy tracking), Skill 3: 450°/s (snappy but not instant). Creates human-like tracking that can be dodged instead of perfect instant locking—enemies can strafe/dodge effectively against bot aim. Removes robotic feel while maintaining competitive challenge at higher skills.
- **Wall hugging / frictionless sliding + active combat hopping** in `reaper_mre/botmove.qc` for fluid combat movement:
  - **Slide trace logic** (`strafemove` function): When walkmove fails (bot hits wall during strafe), performs wall-trace to get surface normal, calculates slide vector via vector projection (Dir - Normal × (Dir · Normal)), and attempts walkmove along wall plane. Prevents bots from becoming stationary targets when strafing into geometry—critical for narrow corridors and close-quarters combat.
  - **Active combat jumping** (`strafemove` function): Bots now actively jump during combat and navigation (skill >1). Projectile evasion: 20% jump rate vs rockets/grenades. General combat: 10% jump rate. Patrol: 5% jump rate. LG stability: Suppresses jumping when wielding Lightning Gun for smooth hitscan tracking. Creates human-like bunny-hopping movement—bots maintain momentum, dodge splash damage, and move unpredictably instead of walking passively.
- **Tactical AI enhancements** for smarter scavenging and weapon counters:
  - **Smart backpack scavenging** in `reaper_mre/botgoal.qc` (`itemweight` function): Bots now intelligently prioritize dropped backpacks when starving for weapons/ammo. Base weight 1000, boosted to 3000 if missing RL/LG, +2000 desperation bonus when critically low on all ammo types (rockets <5, shells <10, nails <20). Works with existing risk-aware logic to avoid suicide rushes for contested backpacks—bots grab critical gear from kills when safe.
  - **Weapon counter-tactics (rock-paper-scissors)** in `reaper_mre/botfight.qc` (`W_BestBotWeapon` function): Bots now adapt weapon choice based on enemy's current weapon for tactical advantage. RL counters LG at far range (knockback disrupts hitscan tracking), LG counters RL at non-melee range (instant hitscan punishes projectile users). Checks enemy weapon before fallback priority ladder—creates competitive "read and counter" meta like human duels.
  - **Global scavenger hunt** in `reaper_mre/botgoal.qc` (`FindMapGoal` function and `aibot_chooseGoal` fallback): When bots have no local targets (alone/lost), they now scan the entire map for high-value items instead of random wandering. Priority order: RL (5000 base, -6000 if owned), LG (4500 base, -6000 if owned), Red Armor (6000, only if armor <100), Megahealth (5500, only if health <100). Scores decrease by distance. Gives isolated bots purposeful navigation toward strategic items—replaces brainless wall-bouncing with goal-driven exploration.
  - **Problem solver system** for advanced reasoning and tool usage: Bots now link obstacles to solutions dynamically. **Vertical reachability** (`itemweight` in `botgoal.qc`): Recognizes high items (>45u) as reachable via rocket jump when bot has RL, 1+ rockets, and >100 HP. Calculates RJ feasibility (<250u height), boosts item weight by 1.5× (Quad/RA priority), flags goal with `check_climb`. **Door/button solver** (`FindButtonForDoor` in `bot_ai.qc`, obstacle logic in `strafemove`): When blocked by closed door (state 0), scans for linked button via targetname, retargets to button, presses it, returns. Handles shootable doors (health >0) by attacking. **Vertical solve execution** (`Botmovetogoal` in `botmove.qc`): Detects high goals (>60u vertical, <100u horizontal), executes rocket jump (80° pitch, W_FireRocket, 300 z-velocity, 2s cooldown)—bots now solve spatial puzzles like humans.
- **Tactical AI decision-making** for smarter item/powerup priority and unstuck recovery:
  - **Risk-aware item scoring** in `reaper_mre/botgoal.qc`: Need-based boosts (RL/Quad/low ammo +100-200) minus threat penalty (enemy proximity -80 max) prevent suicide rushes for contested items while grabbing critical gear when safe. Smart own/deny replaces blind item chasing.
  - **Conditional denial rush** in `reaper_mre/botroute.qc`: Amplifies powerup denial aggression when leading (+0.15 multiplier) or enemy is weak <40 HP (+0.2 multiplier, stacks to 0.55 total) for opportunistic Quad/Pent contests. Added `BotHasWeakEnemy()` helper to avoid variable shadowing.
  - **Stuck rotate + cache nuke** in `reaper_mre/botmove.qc`: Cycles retry counter 0-7, rotates ideal_yaw in 45° increments after 3 failed moves, full route cache clear on loop. Escapes corner-stuck "moron loops" via multi-angle exploration.
  - Added `stuck_count` field in `reaper_mre/botit_th.qc` for rotation cycle tracking.
- **Cunning AI tactics** for memory, treachery, and ambush behavior:
  - **Spawn camping (item timing)** in `reaper_mre/botgoal.qc` (`aibot_chooseGoal` function): Bots now "remember" and camp high-value item respawn timers instead of ignoring picked-up items. Detects RL/Quad/Red Armor/Megahealth about to respawn (<10s via `nextthink` check), calculates weight by time-to-spawn (4000 - time×100), and forces wait behavior when already at spawn point (sets `search_time = time + 1s` if within 100u). Simulates human-like timer knowledge—bots control key spawns instead of wandering aimlessly.
  - **Circle strafing (orbit mode)** in `reaper_mre/bot_ai.qc` (`aibot_run_slide` function): Replaces erratic 0.4s zigzag strafing with smooth 1.5s circular orbit around enemy. Changed strafe angle from 90° (perfect circle) to 80° (spiral-in), creating aggressive closing pattern while maintaining evasion. Bots now maintain directional commitment for extended periods—harder to predict, more disorienting for human opponents.
  - **Retreat trap ("parting gift")** in `reaper_mre/bot_ai.qc` (`ai_botrun` function): When `RunAway()` triggers retreat, bots with GL occasionally (10% chance) drop grenade at their own feet while fleeing. Faces enemy, aims down (80° pitch), fires grenade, then continues retreat. Punishes aggressive pursuers with splash damage—classic human tactic of "leave a present" when running away.
  - **Ambush (sound investigation)** in `reaper_mre/botthink.qc` (`BotPostThink` function): Idle bots (no enemy, search expired) now "hear" combat noises and investigate. Scans all players for recent weapon fire (`attack_finished > time`), moves toward sound source within 1000u, investigates for 2s. Creates human-like curiosity behavior—bots converge on combat zones instead of roaming randomly, enabling third-party ambushes and opportunistic cleanup kills.
- **Portal awareness (teleporter navigation)** for intelligent shortcut usage:
  - **Auto-registration** in `reaper_mre/triggers.qc` (`trigger_teleport` function): Automatically spawns BotPath node inside every teleporter trigger when map loads. Marks node with special "BotTeleporter" classname and copies target destination, enabling navigation system to "see" teleporters as valid locations instead of just triggers.
  - **Wormhole linking** in `reaper_mre/botroute.qc` (`LinkTeleporters` function): Called once at frame 5 in `world.qc StartFrame`, scans all BotTeleporter nodes and hardwires them to destination nodes via `movetarget` field. Creates instant-travel paths with zero distance cost—pathfinding system sees teleporters as shortcuts instead of long walks. Spawns exit nodes at info_teleport_destination locations for two-way navigation.
  - **Exploration priority** in `reaper_mre/botgoal.qc` (`chooseRoamTarget` function): Bots actively seek teleporter nodes (BotPath with target field) as "mystery boxes" during roaming (30% chance), preferring closer ones >100u away. Creates intentional teleporter usage instead of accidental stumbles—improves map flow and tactical repositioning.
- **Splash damage mastery (rocket launcher intelligence)** for advanced splash mechanics:
  - **Floor shooting ("floor frag")** in `reaper_mre/botfight.qc` (`botaim` function): Bots with RL now aim at enemy feet (absmin_z + 8u) instead of chest when enemy is on ground. Validates splash opportunity with 120u radius traceline—if blockage too far, falls back to chest aim. Ensures rockets always hit floor for guaranteed 80+ splash damage even if direct trace misses—standard chest aim often produces zero-damage near-misses.
  - **Corner clipping (indirect splash)** in `reaper_mre/botfight.qc` (`CheckBotAttack` function): Allows firing RL/GL when direct line-of-sight fails but trace hits wall/floor within 110u of enemy. Secondary foot-aim check for floor splash opportunities. Returns AS_MISSILE state to permit splash shots—bots now spam rockets around corners and through doorways like human players.
  - **Suicide prevention (safety check)** in `reaper_mre/botfight.qc` (`W_BestBotWeapon` function): Prioritizes safe weapons (SSG if shells ≥2, SNG if nails ≥10, LG if cells ≥10) at RANGE_MELEE before considering rockets. Prevents point-blank rocket suicides—bots only use RL at melee as last resort when no safe alternatives available.
- **Advanced air movement system** in `reaper_mre/botthink.qc` for pro-level bot physics:
  - **Bunny hop mechanics**: Skill-based strafe-jump system (skill >2 only) adds acceleration boost (+12 u/s) when turning while airborne, simulating human strafe-jumping. Replaces restrictive 320-400 u/s cap with 600 u/s limit for realistic bunny-hop physics without engine breaks—expert bots now gain speed like speedrunners.
  - **Jump velocity pattern smoothing**: 3-frame moving average with 300 u/s normalization eliminates erratic jump trajectories, ledge overshoots, and jittery navigation on complex geometry—creates stable, human-like arcs.
  - **Mid-air reachability correction**: Predicts landing positions and dampens horizontal velocity by 20% when trajectory becomes unreachable, enabling proactive unstuck recovery and reducing fall deaths from bad jumps.
  - Added `jump_vel_pat0/1` velocity history fields in `reaper_mre/botit_th.qc` for pattern tracking.
  - Forward-declared `TrueReachable` in `reaper_mre/botthink.qc` for air check integration.
- Fixed non-ASCII artifacts in `src/combat.qc`, `src/world.qc`, and `src/client.qc` so FTEQCC no longer errors on invalid UTF-8 sequences.
- Rebuilt `progs.dat` with `tools/fteqcc_win64/fteqcc64.exe -O3 progs.src`, producing the expected ~500 KB output and a clean “Successfull compile” (with only warnings) log.
- Added a `launch/quake-spasm` workspace that ships the downloaded Quake Spasm engine binary plus Steam `id1/PAK0.PAK` and `PAK1.PAK`, along with a README explaining how to run it (currently the provided engine is the Linux/ELF build from the jarokuczi pre-alpha release).
- Downloaded the SourceForge QuakeSpasm 0.96.3 Windows archives, placed the x64 build directly in `launch/quake-spasm` and the x86 build in `launch/quake-spasm/win32`, and updated the README to describe how to launch each build with the local `id1` data.
- Added `launch/quake-spasm/RPBOT` with the reaper mod’s auxiliary files (`Autoexec.cfg`, etc.) plus the newly compiled `PROGS.DAT/progs.dat`, and updated the README so Quake Spasm can launch the mod via `-game RPBOT` using the nearby `id1` data.
- Added `launch/quake-spasm/launch_rpbot.bat` and documented it as the one-click Windows launcher with safe defaults for maxplayers and map.
- Recompiled the decompiled MRE sources with MEQCC (fixing decompiler artifacts) and staged the new `progs.dat` in `launch/quake-spasm/reaper_mre`, plus a `launch_reaper_mre.bat` helper and README instructions for testing.
- Hardened both launch scripts to strip trailing backslashes from `%ROOT%`, use explicit `-basedir`, and documented the pak-file error fix in the README.
- Confirmed `launch_reaper_mre.bat` boots successfully; `reaper_mre` is the current working baseline.
- Tuned `reaper_mre/botmove.qc` (jump volume variation, faster strafes by skill, backward dodge) and rebuilt `reaper_mre/progs.dat`; copied it to `launch/quake-spasm/reaper_mre` and `ci/reaper_mre` for testing.
- Added `setBotGravity` debug logging and loop guard rails in `reaper_mre/botspawn.qc`, then rebuilt and copied the new `progs.dat` into `launch/quake-spasm/reaper_mre` and `ci/reaper_mre` for testing.
- Made bot runtime globals mutable in `reaper_mre/botit_th.qc` (removed zero initializers so FTEQCC doesn’t treat them as const), then rebuilt and copied the new `progs.dat` into `launch/quake-spasm/reaper_mre` and `ci/reaper_mre` for testing.
- Added in-code commentary around `setBotGravity` diagnostics/guards and the mutable bot globals, and documented MRE debug logging (including `qconsole.log`) in the Quake Spasm README.
- Boosted bot prediction (vertical lead, splash-height variance, chase extrapolation via `last_enemy_vel`) in `reaper_mre/botfight.qc` and `reaper_mre/bot_ai.qc`, added commentary, rebuilt, and refreshed the launch/CI `progs.dat` copies.
- Documented a simple Windows CI flow for rebuilding `progs.dat` in `launch/quake-spasm/README.md`.
- Added `ci/build_reaper_mre.ps1` and a GitHub Actions workflow in `.github/workflows/ci.yml` to compile and publish the MRE `progs.dat` artifact.
- Added powerup denial heuristics in `reaper_mre/botroute.qc` (enemy-aware powerup weighting, intercept flags, and denial offsets) with commentary.
- Verified a debug dm2 session booted and ran cleanly; no host errors reported in `launch/quake-spasm/qconsole.log`.
- Added adaptive goal heuristics in `reaper_mre/botgoal.qc` (low-health item bias, score-based deny flag, denial-leaning roam) plus the `lead_score` field in `reaper_mre/botit_th.qc`.
- Verified a debug dm3 session booted and ran cleanly; no host errors reported in `launch/quake-spasm/qconsole.log`.
- Tuned `reaper_mre/botfight.qc` weapon selection (rocket conservation, SNG vs Quad/Pent, earlier melee on weak targets) with commentary and rebuilt artifacts.
- Verified a debug dm6 session booted and ran cleanly; no host errors reported in `launch/quake-spasm/qconsole.log`.
- Verified a debug dm2 session booted and ran cleanly; no host errors reported in `launch/quake-spasm/qconsole.log`.
- Added adrenaline focus in `reaper_mre/botthink.qc` (dynamic think delay + reduced aim jitter under pressure) with commentary and rebuilt artifacts.
- Added skill-based spawn memory in `reaper_mre/botspawn.qc` (pre-cached powerups/weapons and first-goal bias) plus the `has_memory` field in `reaper_mre/botit_th.qc`.
- Verified a debug dm1 session booted and ran cleanly; no host errors reported in `launch/quake-spasm/qconsole.log`.
- Added streak tracking and adaptive skill adjustments in `reaper_mre/bot_ai.qc` and `reaper_mre/dmbot.qc`, plus new streak fields in `reaper_mre/botit_th.qc`.
- Verified a debug dm4 session booted and ran cleanly; no host errors reported in `launch/quake-spasm/qconsole.log`.
- Verified a debug dm6 session booted and ran cleanly; no host errors reported in `launch/quake-spasm/qconsole.log`.
- Added dynamic route heuristics in `reaper_mre/botroute.qc` (blockage cost inflation, velocity-shift replans, and A*-lite pruning) plus new route timing/velocity fields in `reaper_mre/botit_th.qc`.
- Verified a debug dm5 session booted and ran cleanly; no host errors reported in `launch/quake-spasm/qconsole.log`.
- Added low-HP opportunistic item weighting plus intercept-mode goal biasing in `reaper_mre/botgoal.qc`, along with enemy velocity pattern fields in `reaper_mre/botit_th.qc`.
- Expanded CI pipeline docs in `launch/quake-spasm/README.md` with compile steps, artifact locations, and workflow details.
- Reviewed the latest dm2 `qconsole.log` output (no host errors; only expected warnings like missing music tracks/IPX disabled) and documented harder-bot console commands plus the log notes in `launch/quake-spasm/README.md`.
- Added velocity-history aim smoothing and strafe-pattern overlead in `reaper_mre/botfight.qc`, with new velocity history fields in `reaper_mre/botit_th.qc`, then documented the expanded aim features in `launch/quake-spasm/README.md`.
- Added weapon-aware evasion in `reaper_mre/botmove.qc` (rocket zigzag widening, self-velocity zigzag flips, lightning-gun jump bias) plus new evasion/velocity history fields in `reaper_mre/botit_th.qc`, then documented the evasion behavior in `launch/quake-spasm/README.md`.
- Reviewed the latest dm6 `qconsole.log` output (no host errors; only expected warnings like missing music track 5/IPX disabled) and documented the log review in `launch/quake-spasm/README.md`.
- Added noise-driven taunts in `reaper_mre/botnoise.qc` (hot-streak taunt variety + death-streak complaints on gib noises), with a new `taunt_streak` field in `reaper_mre/botit_th.qc` synced from kill/death streaks in `reaper_mre/bot_ai.qc` and `reaper_mre/dmbot.qc`, then documented the behavior in `launch/quake-spasm/README.md`.
- Added movement recovery in `reaper_mre/botmove.qc` (stuck-time replans, jump/diagonal/backpedal sidestep escalation, and idle patrol wandering) plus the `stuck_time` field in `reaper_mre/botit_th.qc`, then documented the behavior in `launch/quake-spasm/README.md`.
- Added vision improvements in `reaper_mre/botvis.qc` (corner-peek traces, idle scan yaw sweeps with widened FOV, and stuck-time quick rejection in reachability checks) and documented the behavior in `launch/quake-spasm/README.md`.
- **Physics-based navigation improvements** in `reaper_mre/botvis.qc` for more realistic bot movement and pathfinding:
  - **Finer arc simulation**: Reduced time steps from 0.1s to 0.05s in jump trajectory calculations (`Reachable` function), doubling iteration precision for smoother parabolic prediction—catches low-arc jumps better, reduces overshoot errors on precise ledges.
  - **Strafe momentum**: Added ground velocity carryover (30% of xy speed) to jump reach calculations, simulating realistic running jumps that reach farther than standing jumps—fixes "short jump" failures when bots have momentum.
  - **Multi-trace path validation**: Doubled path sampling density in `BotWalkable` function (halved step size, doubled iterations) and added mid-path collision detection via traceline for SOLID_BSP obstacles—proactively detects walls/lips/clips that sparse checks miss, preventing stuck spots.
  - Physics calibrated to Quake standard: g=800u/s², jump_vel=270u/s, max_height≈45u with improved temporal/spatial accuracy.
